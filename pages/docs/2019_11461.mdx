# SPCSS00548577|[SC9863A][Waterworld][FS098M02][SC9863A][Waterworld][FS098M02][六部][SZ][TCL]GSI失败项CtsOsTestCases|步骤：我司测试GSI时出现失败项CtsOsTestCases

现象：失败项为android.os.cts.ParcelTest#testMaliciousMapWrite


附件为测试结果及GSI log，请帮忙分析原因，谢谢|
==== State: Closed by: cmadmin on 29 January 2019 00:40:07 ====

尊敬的客户，超过15个工作日未关闭的Resolved状态的问题，我们会定期关闭，如问题仍然存在，您还可以再次通过Reopen重新打开提交此问题。


==== State: Resolved by: cmadmin on 07 January 2019 10:38:34 ====

Dear Customer:
  The Issue has been Fixed now, please check it
Thank you

Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

RootCause:
testMaliciousMapWrite fail
Solution:
申请豁免

==== State: Opened by: cmadmin on 07 January 2019 10:38:29 ====

  == zhouyong0701@spreadst.com On 20190107T02:14:21 (xml) ==
尊敬的客户：
9.0 的 cts-gsi testMaliciousMapWrite  fail可以豁免

提交给google，需要等待google审核

https://partnerissuetracker.corp.google.com/u/0/issues/121287021

等待google豁免
|
# SPCSS00548576|[SC9863A][Waterworld][FS098M02][SC9863A][Waterworld][FS098M02][六部][SZ][TCL]GSI失败项CtsNativeMediaAAudioTestCases|步骤：我司测试GSI时出现失败项CtsNativeMediaAAudioTestCases

现象：失败项为
android.nativemedia.aaudio.AAudioTests#test_attributes_aaudio_input_preset_lowlat
android.nativemedia.aaudio.AAudioTests#test_attributes_aaudio_input_preset_perfnone

附件为测试结果及GSI log，请帮忙分析原因，谢谢|
==== State: Closed by: cmadmin on 29 January 2019 00:40:08 ====

尊敬的客户，超过15个工作日未关闭的Resolved状态的问题，我们会定期关闭，如问题仍然存在，您还可以再次通过Reopen重新打开提交此问题。


==== State: Resolved by: cmadmin on 07 January 2019 10:57:39 ====

Dear Customer:
  The Issue has been Fixed now, please check it
Thank you

Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

RootCause:
重复提交在SPCSS00548599跟踪
Solution:
重复提交在SPCSS00548599跟踪

==== State: Opened by: cmadmin on 07 January 2019 10:57:36 ====

  == Qiang.Lu@unisoc.com On 2019-01-07T02:26:02Z (json) ==
重复提交在SPCSS00548599跟踪

==== State: Opened by: cmadmin on 07 January 2019 10:57:32 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548575|[SC9863A][Waterworld][FS098M02][SC9863A][Waterworld][FS098M02][六部][SZ][TCL]GSI失败项CtsMediaTestCases|步骤：我司测试GSI时出现失败项CtsMediaTestCases

现象：失败项为
android.media.cts.HeifWriterTest#testInputBitmap_Grid_Handler等11项
附件为测试结果及GSI log，请帮忙分析原因，谢谢|
==== State: Closed by: cmadmin on 31 January 2019 00:41:02 ====

尊敬的客户，超过15个工作日未关闭的Resolved状态的问题，我们会定期关闭，如问题仍然存在，您还可以再次通过Reopen重新打开提交此问题。


==== State: Resolved by: cmadmin on 09 January 2019 17:49:10 ====

  == Xiaojie.Liu@unisoc.com On 20190109T09:48:22 (xml) ==
已确认fail项可全部豁免，后续会在isupport 中发布此TR

Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

RootCause:
已确认fail项可全部豁免，且送测不受影响，先走关闭流程
Solution:
后续会在isupport 中发布此TR

==== State: Opened by: cmadmin on 09 January 2019 17:49:07 ====

  == Xiaojie.Liu@unisoc.com On 20190109T09:45:59 (xml) ==
已确认fail项可全部豁免，且送测不受影响，先走关闭流程
N2AInBug


==== State: NeedInfo by: cmadmin on 07 January 2019 16:56:46 ====

  == Xiaojie.Liu@unisoc.com On 20190107T08:41:14 (xml) ==
Dear Customer:
如电话沟通，Google己同意waiver，不影响3PL送测，另外和开发沟通应该可全部解决此问题，请验证确认，如有问题及时反馈，谢谢！
(20190107T07:15:23)

==== State: Opened by: waterworld on 07 January 2019 15:11:15 ====

你好：
       请问下，CtsMediaTestCases失败项的11项全部是豁免的吗，麻烦发下具体TR文档名称，谢谢！

==== State: Resolved by: cmadmin on 07 January 2019 14:52:03 ====

  == Xiaojie.Liu@unisoc.com On 2019-01-07T06:37:29Z (json) ==
Dear Customer:
如电话沟通，该问题先走Fix流程，如有问题再沟通，谢谢！

Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

RootCause:
发布google TR
Solution:
发布google TR

==== State: Opened by: cmadmin on 07 January 2019 14:51:59 ====

  == Xiaojie.Liu@unisoc.com On 2019-01-07T06:35:48Z (json) ==
Dear Customer:
该问题12/25左右，已发布过google TR，请确认，谢谢！

==== State: Opened by: cmadmin on 07 January 2019 10:38:20 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548574|[SC9863A][Waterworld][FS098M02][SC9863A][Waterworld][FS098M02][六部][SZ][TCL]GSI失败项CtsLibcoreTestCases|步骤：我司测试GSI时出现CtsLibcoreTestCases失败项

现象：失败项为
libcore.java.net.InetAddressTest#test_getByName_invalid[1]	
libcore.libcore.icu.DateIntervalFormatTest#testEndAtMidnight

附件为测试结果及GSI log，请帮忙分析原因，谢谢|
==== State: Closed by: cmadmin on 23 January 2019 00:38:50 ====

尊敬的客户，NeedInfo状态超过15个工作日贵司未有状态更新和反馈的问题，现做关闭处理。如果还有其他问题，请重新提交CR或者联系对应的TAM处理。 Thanks


==== State: NeedInfo by: cmadmin on 07 January 2019 13:20:06 ====

  == Kezeng.Kang@unisoc.com On 2019-01-07T03:13:51Z (json) ==
        <Failure message="java.lang.AssertionError: Invalid IP address incorrectly recognized as valid: 1.2.3.4.&#13;">
          <StackTrace>java.lang.AssertionError: Invalid IP address incorrectly recognized as valid: 1.2.3.4.
	at org.junit.Assert.fail(Assert.java:88)
	at libcore.java.net.InetAddressTest.test_getByName_invalid(InetAddressTest.java:301)

test_getByName_invalid 该用例 跟具体的网络环境有关，请更换个网络进行复测。 当前 dns 服务器没有按照预期将1.2.3.4. 解析异常，引起失败。 非ue 问题。
(2019-01-07T02:10:24Z)

==== State: Opened by: cmadmin on 07 January 2019 10:21:35 ====

  == zhouyong0701@spreadst.com On 2019-01-07T02:09:50Z (json) ==
尊敬的客户：

cts-gsi testEndAtMidnight已经豁免

https://partnerissuetracker.corp.google.com/u/0/issues/122238824

Status: Duplicate of 122240208
http://b/122240208 is already fixed.

可以连接CPM获取

test_getByName_invalid与network有关，会转相关同事分析
|
# SPCSS00548573|[SC9863A][Waterworld][FS098M02][SC9863A][Waterworld][FS098M02][六部][SZ][TCL]GSI失败项 CtsDeqpTestCases|步骤：我司测试GSI时出现CtsDeqpTestCases失败项

现象：失败项为dEQP-GLES3.functional.fragment_ops.interaction.basic_shader#1等27项


附件为测试结果及GSI log，请帮忙分析原因，谢谢|
==== State: Closed by: cmadmin on 31 January 2019 00:41:10 ====

尊敬的客户，超过15个工作日未关闭的Resolved状态的问题，我们会定期关闭，如问题仍然存在，您还可以再次通过Reopen重新打开提交此问题。


==== State: Resolved by: cmadmin on 09 January 2019 18:51:04 ====

Dear Customer:
  The Issue has been Fixed now, please check it
Thank you

Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

RootCause:
Gralloc update
Solution:
NA

==== State: Opened by: cmadmin on 09 January 2019 18:50:38 ====

  == zhumin0815@spreadst.com On 20190109T10:46:41 (xml) ==
你好尊敬的客户：

 因为本地没有客户的代码。麻烦使用附件中提供的so，更名为gralloc.generic.so，按照32位和64位分别替换到vendor/sprd/external/drivers/gpu/rogue/usr/sharkl3下面的lib和lib64里面的hw/gralloc.generic.so，然后提交上去即可。

如遇执行问题，请及时与我联系，十分感谢！

[C][NJ_ST_MM_Graphics][19/1/9][zhumin0815]

==== State: Opened by: waterworld on 09 January 2019 16:38:37 ====

你好：
       刚才按贵司README中的操作验证，两个单项均已pass，后续应如何操作请说明谢谢！同SPCSS00548596

==== State: Opened by: cmadmin on 07 January 2019 13:20:01 ====

  == zhumin0815@spreadst.com On 2019-01-07T03:10:05Z (json) ==
你好 尊敬的客户：
  因为本地没有复现问题的机器，麻烦使用附件中的so，按照README中的操作将so push到对应的路径下面后复测一下该问题，如有结果，请及时反馈，十分感谢。

如遇执行问题，请及时与我联系，十分感谢！

[C][NJ_ST_MM_Graphics][19/1/7][zhumin0815]

==== State: Opened by: cmadmin on 07 January 2019 10:08:33 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548572|[SC9863A][Waterworld][FS098M02][SC9863A][Waterworld][FS098M02][六部][SZ][TCL]GSI失败项CtsCameraTestCases|步骤：我司测试GSI时出现CtsCameraTestCases失败项

现象：失败项为
android.hardware.camera2.cts.BurstCaptureTest#testYuvBurst	
android.hardware.camera2.cts.ExtendedCameraCharacteristicsTest#testStaticBurstCharacteristics	
android.hardware.cts.CameraGLTest#testCameraToSurfaceTextureMetadata	
android.hardware.cts.CameraTest#testPreviewFpsRange

附件为测试结果及GSI log，请帮忙分析原因，谢谢|
==== State: Closed by: cmadmin on 12 February 2019 00:48:05 ====

尊敬的客户，超过15个工作日未关闭的Resolved状态的问题，我们会定期关闭，如问题仍然存在，您还可以再次通过Reopen重新打开提交此问题。


==== State: Resolved by: cmadmin on 21 January 2019 10:04:14 ====

  == husf@spreadst.com On 2019-01-21T01:59:24Z (json) ==
如沟通，camera 全测Pass，问题关闭

==== State: Resolved by: cmadmin on 17 January 2019 15:43:55 ====

  == husf@spreadst.com On 2019-01-17T07:40:47Z (json) ==
Dear Customer，
   any update?

==== State: Resolved by: cmadmin on 16 January 2019 15:37:42 ====

  == husf@spreadst.com On 20190116T07:34:09 (xml) ==
Hi 张工，
   如电话沟通，CTS 已经Pass，理论上GSI 也可以Pass，还请尽快验证并反馈验证结果
谢谢

==== State: Resolved by: cmadmin on 15 January 2019 18:16:36 ====

  == husf@spreadst.com On 2019-01-15T10:14:01Z (json) ==
Dear Customer，
  请使用附件SprdCamera3Setting.cpp 验证GSI fail项并反馈验证结果
谢谢

==== State: Resolved by: cmadmin on 09 January 2019 19:41:47 ====

  == husf@spreadst.com On 20190109T11:39:00 (xml) ==
Dear Customer，
   any update?

==== State: Resolved by: cmadmin on 08 January 2019 15:25:05 ====

Dear Customer:
  The Issue Need you Verified with the samplecode, please check it and Reject even it's OK, No Close for the TOBEVERIFIED Issues 
Thank you


Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

RootCause:
GSI失败项CtsCameraTestCases
Solution:
等待SPCSS00548594 中fail处理完成后再来测试gsi

==== State: Opened by: cmadmin on 08 January 2019 15:25:03 ====

  == husf@spreadst.com On 20190108T07:15:06 (xml) ==
Hi 张工，
   如电话沟通，贵司该项目目前CTS和gsi都有报错，建议等待SPCSS00548594 中fail处理完成后再来测试gsi ,如果还有问题的话再反馈，该问题先挂起，请知
谢谢

==== State: Opened by: waterworld on 08 January 2019 14:32:14 ====

你好：
       测试结果和log，相关文件已放附件，请分析！谢谢！

==== State: NeedInfo by: cmadmin on 08 January 2019 14:15:27 ====

  == husf@spreadst.com On 2019-01-08T06:13:58Z (json) ==
Dear Customer，
   请尽快提供所需文件及log
谢谢

==== State: NeedInfo by: cmadmin on 07 January 2019 13:59:55 ====

  == husf@spreadst.com On 2019-01-07T05:35:04Z (json) ==
Dear Customer，
   附件中只有测试报告，没有fail 项log，请确认并上传对应的fail 项log，另外该项目的如下文件也请提供一下，谢谢
Boardconfig.mk
media_profile.xml
SprdCamera3Setting.cpp
SprdCamera3OEMIf.cpp
(2019-01-07T01:57:18Z)

==== State: Opened by: cmadmin on 07 January 2019 10:21:30 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548568|[SL8521E][Waterworld][SL8521E]我们之前做过一个纯LINUX版本AD305故事机，现在也要弄个AD305的andorid版本的故事机，硬件一样，所以需要一些Android没有裁剪过的应用层和部分中间层的代码。需求见附件|步骤：

现象：
1.硬件平台：沃特沃德AD305板
2.软件平台：安卓系统，提供PAC烧录文件，编译工具链使用：arm-linux-androideabi-4.9
3.软件模块支持： 
a. 4G联网功能。
b. 拨打电话功能，提供一个C调用JAVA通话的demo。
c. 按键接口，确认event接口是否需要改变。
d. SD卡读写访问的功能， 接电脑时候能够切换成U盘功能。
e. LED 5*7点阵灯控制接口。
f. 电量获取接口，充电状态接口。
g. 休眠接口，包括设置休眠，以及RTC唤醒。
h. 关机接口。
i. WIFI功能，WIFI/4G功能切换。

分析：
|
==== State: Closed by: yiwen.man on 09 January 2019 17:59:26 ====

1

==== State: NeedInfo by: cmadmin on 09 January 2019 13:23:08 ====

  == Xiaojie.Liu@unisoc.com On 2019-01-09T05:20:07Z (json) ==
Dear Customer:
如电话沟通，该问题已不需要跟踪，请确认后关闭，谢谢！

==== State: NeedInfo by: cmadmin on 08 January 2019 15:56:24 ====

  == Xiaojie.Liu@unisoc.com On 20190108T07:52:11 (xml) ==
Dear Customer:
请参考附件需求模版，详细填写好需求文档，谢谢！
(20190108T07:22:26)

==== State: Opened by: waterworld on 08 January 2019 15:08:46 ====

dear sprd:
可以先解决这个问题吗 ：b. 拨打电话功能，提供一个C调用JAVA通话的demo。这个需求

就是我们这边的C语言应用程序，调用JAVA的打电话接口，需要在这个项目上实现通话功能的。客户还想知道C如何通过JNI调用JAVA的。

==== State: NeedInfo by: cmadmin on 07 January 2019 17:08:10 ====

  == Xiaojie.Liu@unisoc.com On 20190107T08:55:26 (xml) ==
Dear Customer:
你描述的这些需求，我们的MOCOR5版本应该是支持的，请确认，如果具体某项有问题或需求，请单独提出，谢谢！
(20190107T06:58:33)

==== State: Opened by: cmadmin on 07 January 2019 10:08:28 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548559|[SC9863A][Waterworld][FS168][XM][TCL][Alex]TCL中STK相关问题|请帮忙解决附件中STK相关问题。部分问题如附件备注，展讯另一款机型已经解决。谢谢！

所有问题整理放在《STK相关问题汇总.xls》。
7301297 这个问题涉及的部分截图放在 CQ对应FTP的 问题描述/7301297 目录下；
7301311 这个问题详细描述见 CQ对应FTP的 问题描述/7301311目录下的URL为空时，不能打开浏览器.doc|
==== State: Closed by: waterworld on 08 January 2019 15:46:41 ====

此id先关闭。重新提

==== State: NeedInfo by: cmadmin on 08 January 2019 11:43:26 ====

  == bairj0401@spreadst.com On 20190108T03:35:40 (xml) ==
Dear Customer,

如电话沟通，该CQ包含的问题较多，并且处理方式不一样，烦请分开提CQ，谢谢.

该CQ可关闭，谢谢.
(20190107T11:14:40)

==== State: Opened by: waterworld on 07 January 2019 19:02:33 ====

您好，请问处理进度如何？

==== State: Opened by: cmadmin on 07 January 2019 09:49:36 ====

Dear Customer:
 The Issue is under processing now.
Thank you


==== State: Submitted by: waterworld on 06 January 2019 14:26:18 ====

 == Description Changed from == 
请帮忙解决附件中STK相关问题。部分问题如附件备注，展讯另一款机型已经解决。谢谢！
To
请帮忙解决附件中STK相关问题。部分问题如附件备注，展讯另一款机型已经解决。谢谢！

所有问题整理放在《STK相关问题汇总.xls》。
7301297 这个问题涉及的部分截图放在 CQ对应FTP的 问题描述/7301297 目录下；
7301311 这个问题详细描述见 CQ对应FTP的 问题描述/7301311目录下的URL为空时，不能打开浏览器.doc

|
# SPCSS00548552|[SC7731E][Waterworld][FS286-06G]六部 FS286-06G项目 上海实验室华东分院PTCRB认证 3G RF 3GPP TS 34.121-1 9.3.9--9.3.6 协议测试案例不过，请帮忙分析，谢谢|六部 FS286-06G项目 上海实验室华东分院PTCRB认证 3G RF 3GPP TS 34.121-1 部分 协议测试案例不过，测试案例如下：
测试报告和测试log见附件：
3GPP TS 34.121-1  9.3.3  Open Loop Diversity Performance - AWGN Propagation Conditions    
3GPP TS 34.121-1  9.3.4  Open Loop Diversity Performance - Fading Propagation Conditions    
3GPP TS 34.121-1  9.3.5  Closed Loop Diversity Performance - AWGN Propagation Conditions 
3GPP TS 34.121-1  9.3.6  Closed Loop Diversity Performance - Fading Propagation Conditions     |
==== State: Closed by: waterworld on 10 January 2019 19:23:29 ====

实验室已测试通过，请关闭该需求。

==== State: Resolved by: cmadmin on 08 January 2019 09:58:59 ====

  == Jianwei.Yan@unisoc.com On 2019-01-08T01:58:26Z (json) ==
根据3G RF PICS这几条case需要测试，另外客户前面的PIKE2 FS280项目在另外一个实验室也测试了这几条case，请知悉。

==== State: Resolved by: cmadmin on 08 January 2019 09:58:57 ====

Dear Customer:
  The Issue has been Fixed now, please check it
Thank you

Analysis and Solution:
[1.Root Cause        ]:
平台不支持分集，故这些测试项需要测试
[2.Resolution        ]:
需要客户与实验室沟通好。


==== State: Opened by: waterworld on 08 January 2019 09:49:13 ====

刘工，你好：

经跟实验室沟通，如下测试案例无法豁免，请分析。

==== State: Resolved by: cmadmin on 07 January 2019 16:33:27 ====

Dear Customer:
  The Issue has been Fixed now, please check it
Thank you

Analysis and Solution:
RootCause:
平台不支持分集，故这些测试项需要测试
Solution:
需要客户与实验室沟通好。

==== State: Opened by: cmadmin on 07 January 2019 15:49:07 ====

  == Weijun.Liu@unisoc.com On 2019-01-07T07:36:13Z (json) ==
7731E平台没有分集，所以这些测试项不需要测试。

==== State: Opened by: cmadmin on 07 January 2019 09:08:25 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548548|[SC9863A][Waterworld][tcl]拨打联系人电话，需要显示位置信息|步骤：设置一个联系人，拨打此联系人的号码。

现象：未显示联系人的位置信息

分析：
如果是非联系人的号码，拨打号码可以有显示位置信息。当号码被存为联系人，拨打号码就不再显示位置信息了。
尝试在idh.code\packages\apps\Dialer\java\com\android\incallui\CallCardPresenter.java
中的方法shouldShowLocationAsLabel  和 shouldShowLocation 直接返回true。但是报错了。
请帮忙提供支持。谢谢！


期望：
如果是联系人，拨打号码也要显示位置信息。
|
==== State: Closed by: waterworld on 07 January 2019 20:01:01 ====

验证ok。关闭

==== State: Resolved by: cmadmin on 07 January 2019 18:44:44 ====

  == tianyj0828@spreadst.com On 2019-01-07T10:40:40Z (json) ==
尊敬的客户您好，

如沟通， 已验证ok， 关闭。

谢谢

Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

[1.Root Cause        ]:客户需求

[2.Resolution        ]:拨打联系人电话， 也显示location



==== State: Opened by: waterworld on 07 January 2019 17:59:05 ====

vendor 目录下没有这2个文件。package 目录下有。
请帮忙再确认下，修改的文件的路径。
是9.0的分支。

==== State: Resolved by: cmadmin on 07 January 2019 15:49:03 ====

Dear Customer:
  The Issue has been Fixed now, please check it
Thank you

Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

RootCause:
客户需求
Solution:
拨打联系人电话， 也显示location

==== State: Opened by: cmadmin on 07 January 2019 15:49:00 ====

  == tianyj0828@spreadst.com On 2019-01-07T07:36:05Z (json) ==
尊敬的客户您好， 

请合入如下patch进行验证， 一共两个文件

修改文件：vendor/sprd/platform/packages/apps/SprdDialer/java/com/android/incallui/CallCardPresenter.java

diff --git a/java/com/android/incallui/CallCardPresenter.java b/java/com/android/incallui/CallCardPresenter.java
index 3e31250..80c0f66 100644
--- a/java/com/android/incallui/CallCardPresenter.java
+++ b/java/com/android/incallui/CallCardPresenter.java
@@ -948,6 +948,7 @@ public class CallCardPresenter
 
   private static boolean shouldShowLocationAsLabel(
       boolean nameIsNumber, boolean shouldShowLocation) {
+      nameIsNumber = true;
     if (nameIsNumber) {
       return true;
     }


修改文件：
vendor/sprd/platform/packages/apps/SprdDialer/java/com/android/incallui/CallerInfoAsyncQuery.java

diff --git a/java/com/android/incallui/CallerInfoAsyncQuery.java b/java/com/android/incallui/CallerInfoAsyncQuery.java
index bf6412d..d401771 100644
--- a/java/com/android/incallui/CallerInfoAsyncQuery.java
+++ b/java/com/android/incallui/CallerInfoAsyncQuery.java
@@ -510,13 +510,13 @@ public class CallerInfoAsyncQuery {
               // new parameter to CallerInfoAsyncQuery.startQuery() to force
               // the geoDescription field to be populated.)
 
-              if (TextUtils.isEmpty(mCallerInfo.name)) {
+//              if (TextUtils.isEmpty(mCallerInfo.name)) {
                 // Actually when no contacts match the incoming phone number,
                 // the CallerInfo object is totally blank here (i.e. no name
                 // *or* phoneNumber).  So we need to pass in cw.number as
                 // a fallback number.
                 mCallerInfo.updateGeoDescription(mQueryContext, cw.number);
-              }
+//              }
             }
 
             // Use the number entered by the user for display.

==== State: Opened by: cmadmin on 07 January 2019 09:42:38 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548537|[SC9863A][Waterworld][FS168][6部][SZ][TCL]蓝牙搜索界面，界面横竖屏转屏后，搜索到的设备列表不应被清空|步骤：开启蓝牙，进入到蓝牙搜索配对界面，手机开启转屏功能，界面转屏

现象：可用设备列表会被清空，重新搜索设备

不应被清空，对比8.1是不会被清空|
==== State: Closed by: waterworld on 08 January 2019 10:34:08 ====

Dear sprd：
      问题关闭

==== State: NeedInfo by: cmadmin on 08 January 2019 10:14:08 ====

  == lidf0428@spreadst.com On 2019-01-08T02:08:35Z (json) ==
Dear Customer;

经电话沟通，此CQ请帮忙关闭。
如后续有疑问，请重提CQ。
Thanks！

==== State: NeedInfo by: cmadmin on 07 January 2019 13:18:55 ====

  == lidf0428@spreadst.com On 2019-01-07T03:47:56Z (json) ==
Dear Customer；

经电话沟通，此CQ非问题，android9.0原生设计如此。在横竖屏时，会进行界面的重绘，则会进行设备的重新搜索。此时会清除原有设备列表，对比android原生机piexl行为一致。

请帮忙关闭此CQ。

因需要您和您的客户沟通，此cq置为need_info。

如有疑问，请及时沟通。
Thanks！
(2019-01-07T01:41:43Z)

==== State: Opened by: cmadmin on 07 January 2019 09:45:51 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548526|[SC7731E][Waterworld][FS286][6部]Display delays when put call on hold|步骤：
When put a call on hold and receive another call. 
Display delays to show calls. Please see video attached. 
1 - Make a Call
2- Call Established
2 - Received other Call
3 - See Display 
现象：
  显示延迟
之前CQSPCSS00535976 客户刚提供的log
|
==== State: Closed by: cmadmin on 02 February 2019 00:52:20 ====

尊敬的客户，超过15个工作日未关闭的Resolved状态的问题，我们会定期关闭，如问题仍然存在，您还可以再次通过Reopen重新打开提交此问题。


==== State: Resolved by: cmadmin on 11 January 2019 18:48:51 ====

  == zengming0530@spreadst.com On 2019-01-11T10:46:00Z (json) ==
Dear customer,

如电话沟通，因长时间无法提供log且暂时仍无法提供，此问题先关闭，后续有log再继续分析．

Thanks

Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

[1.Root Cause        ]:客户长时间无法提供log，与客户沟通此问题先关闭

[2.Resolution        ]:客户长时间无法提供log，与客户沟通此问题先关闭



==== State: Opened by: cmadmin on 11 January 2019 18:45:47 ====

Dear Customer:
 The Issue is ReOpen and continue to process now.
Thank you

N2AInBug


==== State: NeedInfo by: cmadmin on 10 January 2019 11:19:46 ====

  == zengming0530@spreadst.com On 20190110T03:07:41 (xml) ==
Dear customer,

如电话沟通，此问题已经好几天没有提供ylog了,请尽快提供．

Thanks

==== State: NeedInfo by: cmadmin on 07 January 2019 14:32:12 ====

  == zengming0530@spreadst.com On 2019-01-07T06:24:51Z (json) ==
Dear customer,

您提供的log文件中Bug Performance in call hold/Bug Performance/ylog/ap/current目录下没有有效的log，请提供有效的ylog．


Thanks
(2019-01-07T02:08:08Z)

==== State: Opened by: cmadmin on 07 January 2019 10:07:54 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548525|[SC7731E][Waterworld][ww849][18]GTS com.google.android.memory.gts.AllAppsMemoryHostTest#testPeakPssOfAllApps FAIL|步骤：

现象：gts com.google.android.memory.gts.AllAppsMemoryHostTest#testPeakPssOfAllApps fail
        java.lang.AssertionError: ru.yandex.searchplugin 63792, failed to keep to the max pss of 61440
        512+4俄罗斯项目内置了yandex浏览器，log已上传附件，情分析下，谢谢！！！

分析：
|
==== State: Closed by: cmadmin on 29 January 2019 00:40:12 ====

尊敬的客户，超过15个工作日未关闭的Resolved状态的问题，我们会定期关闭，如问题仍然存在，您还可以再次通过Reopen重新打开提交此问题。


==== State: Resolved by: cmadmin on 07 January 2019 16:01:12 ====

  == Seth.Lu@unisoc.com On 20190107T07:46:12 (xml) ==
与 548585 相同, 集中追踪.

==== State: Resolved by: cmadmin on 07 January 2019 16:01:11 ====

Dear Customer:
  The Issue is duplicated with another: SPCSS00548585, Please Check it and Look at the processing.
  == Seth.Lu@unisoc.com On 20190107T02:56:56 (xml) ==
与 548585 相同, 集中追踪.

*** This bug has been marked as a duplicate of bug 996735 ***
Thank you.

==== State: Opened by: cmadmin on 07 January 2019 10:07:58 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548519|[SC9863A][Waterworld][FS168][TCL]网络标志显示问题咨询|步骤：
客户想客制化3G网络标识，具体如下：

Register on WCDMA, device should display 3G;
 
Register on HSDPA/HSUP, device should display H;
 
Register on HSDPA Plus, device should display H+;

在MobileSignalController中未发现mNetworkToIconLookup中存放WCDMA相关的资源，

请问WCDMA所对应的Network type是多少？

还有 HSDPA/HSUP/HSDPA Plus顺便也帮忙确认下吧|
==== State: Closed by: cmadmin on 31 January 2019 00:41:47 ====

尊敬的客户，超过15个工作日未关闭的Resolved状态的问题，我们会定期关闭，如问题仍然存在，您还可以再次通过Reopen重新打开提交此问题。


==== State: Resolved by: cmadmin on 09 January 2019 10:08:03 ====

Dear Customer:
  The Issue has been Fixed now, please check it
Thank you

Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

RootCause:
网络标志显示问题咨询
Solution:
网络标志显示问题咨询

==== State: Opened by: waterworld on 09 January 2019 09:54:19 ====

客户最新确认图标显示是对的，该id先关闭吧

感谢鼎力支持

==== State: NeedInfo by: cmadmin on 08 January 2019 19:41:29 ====

  == bairj0401@spreadst.com On 20190108T11:40:20 (xml) ==
Dear customer，
从log看，截图时间点前后手机注册上的网络是HSPA+ ，因此此时显示的图标是H+ （iconGroup=IconGroup(H+)），这是正常的，没有问题，请帮忙确认～
感谢！

S003350 12-27 12:28:44.913   704   869 D ConnectivityService: Network NetworkAgentInfo [MOBILE (HSPA+) - 100] was already satisfying request 6. No change.
S003351 12-27 12:28:44.913   704   869 D ConnectivityService: Network NetworkAgentInfo [MOBILE (HSPA+) - 100] was already satisfying request 19. No change.
S003352 12-27 12:28:44.913   704   869 D ConnectivityService: Network NetworkAgentInfo [MOBILE (HSPA+) - 100] was already satisfying request 11. No change.
S003353 12-27 12:28:44.913   704   869 D ConnectivityService: Network NetworkAgentInfo [MOBILE (HSPA+) - 100] was already satisfying request 2. No change.


M00323F 12-27 12:28:43.337   974  1270 D NetworkController.MobileSignalController(2): Change in state from: connected=true,enabled=true,level=4,inetCondition=1,iconGroup=IconGroup(H+),activityIn=false,activityOut=false,rssi=0,lastModified=12-27 12:28:41,dataSim=true,networkName=Beeline,networkNameData=Beeline,dataConnected=true,roaming=false,isDefault=true,isEmergency=false,airplaneMode=false,carrierNetworkChangeMode=false,userSetup=true
12-27 12:28:43.337   974  1270 D NetworkController.MobileSignalController(2): 	to: connected=true,enabled=true,level=4,inetCondition=1,iconGroup=IconGroup(H+),activityIn=true,activityOut=true,rssi=0,lastModified=12-27 12:28:41,dataSim=true,networkName=Beeline,networkNameData=Beeline,dataConnected=true,roaming=false,isDefault=true,isEmergency=false,airplaneMode=false,carrierNetworkChangeMode=false,userSetup=true
M003240 12-27 12:28:43.337   974  1270 D NetworkController.MobileSignalController(2): refreshImsIcons - mIsDualVoLTEActive = false mIsDualLte = true mImsType = -1 mIsVolteRegisted = false mIsImsRegisted = false
M003256 12-27 12:28:43.351   974  1270 D NetworkController.MobileSignalController(2): refreshVolteIndicators show = false subId = 2 resId = 2131231753 alwaysShowVolteIcon = true
(20190108T09:44:22)

==== State: Opened by: waterworld on 08 January 2019 17:42:39 ====

已上传

==== State: NeedInfo by: cmadmin on 08 January 2019 16:09:22 ====

  == bairj0401@spreadst.com On 20190108T08:01:53 (xml) ==
Dear customer，
# SPCSS00520691这个问题最后是客户自己修改的，因此我们没有这个问题的patch，且当前问题和SPCSS00520691不相同，请帮忙提供log以方便分析，非常感谢！
(20190108T05:52:23)

==== State: Opened by: waterworld on 08 January 2019 13:45:55 ====

# SPCSS00520691客户好像提到这个id上处理过，能先帮忙看下这个id的处理吗？

==== State: NeedInfo by: cmadmin on 08 January 2019 11:26:23 ====

  == bairj0401@spreadst.com On 2019-01-08T03:20:40Z (json) ==
Wcdam网络类型为NETWORK_TYPE_UMTS，请帮忙抓个log，看一下网络为UMTS时显示的图标为何为H，感谢
(2019-01-08T03:07:47Z)

==== State: Opened by: waterworld on 08 January 2019 11:18:15 ====

# SPCSS00520691客户好像提到这个id上处理过，请先帮忙查看下这个id的处理

==== State: Opened by: waterworld on 08 January 2019 11:00:47 ====

已添加

==== State: Opened by: waterworld on 07 January 2019 10:15:03 ====

TelephonyIcons.java中没有定义wcdma的network type 吧

==== State: Opened by: cmadmin on 07 January 2019 09:35:01 ====

  == nick.nie@unisoc.com On 2019-01-07T01:32:11Z (json) ==
Dear Customer:

network type 对应的icon资源可在TelephonyIcons.java里查看。

network type可在TelephonyManager.java中查看。

有疑问请及时反馈。
Thanks!

==== State: Opened by: cmadmin on 07 January 2019 09:00:55 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548517|[SC9863A][Waterworld][FS168-02G]财富八部LS036用仪器VOLTE呼叫手机，接通后开免提喇叭有很大的啸叫声问题分析|FS168-02E财富八部LS036在TCL实验室测试温升遇到一个问题：
用CMW500 4G耦合最大功率确认位置后仪器读取附件VOLTE测试模块（附件示，COPY在CMW相关目录下面） ，
用仪器VOLTE呼叫手机，接通后开免提喇叭有很大的啸叫声（导致喇叭功耗过大，整机喇叭处温度很高57度），
麻烦安排工程师去TCL实验室看下是什么问题，谢谢！！
联系人：范力 13632553625|
==== State: Closed by: cmadmin on 12 February 2019 00:48:07 ====

尊敬的客户，超过15个工作日未关闭的Resolved状态的问题，我们会定期关闭，如问题仍然存在，您还可以再次通过Reopen重新打开提交此问题。


==== State: Resolved by: cmadmin on 14 January 2019 11:29:12 ====

Dear Customer:
  The Issue has been Fixed now, please check it
Thank you

Analysis and Solution:
RootCause:
这个问题是因为连接CMW500后设为loopback模式，声音在mic和喇叭之间不断回环而又不会被消掉，而产生的震荡自激。
解决这个问题需要从两方面改善，一是结构密封，也就是说声音不能从内部泄漏，从喇叭泄漏到mic里。目前这个案子的密封性不良，从周四我和范工在我司测试的结果来看，mic堵住和不堵住，只相差了1dB多，并且堵住mic后回声会大30dB。从这个实验可以看到mic密封性不好，并且声音会从机器内部泄漏。这一点需要客户结构工程师详细分析一下。我个人观点是mic的胶套底部要封起来，避免声音从 壳子上传播过去。并且mic要充分贴紧胶套，不能有缝隙导致漏音。
第二个方面是参数上需要调试，以目前的结构，回环延时是非常短的，所以需要用AEC去抑制回音。在现场调了一版参数，见附件。这版参数没有用CVS的回声参数，而是用了以前的AEC来抑制，合入nv时请注意，double check一下参数合入是否正确。
Solution:
主要改善结构，结构不能修改的话，只能出两版参数，附件这版参数专门用来测温升。

==== State: Opened by: cmadmin on 09 January 2019 12:28:29 ====

  == Yang.Bai@unisoc.com On 2019-01-09T04:25:54Z (json) ==
机器收到，准备开始验证。

==== State: NeedInfo by: cmadmin on 07 January 2019 16:33:12 ====

  == Yang.Bai@unisoc.com On 20190107T08:26:46 (xml) ==
与范工联系，我们这边并没有这个现象，并且通过拆除mic的实验，怀疑是机器密封有问题。
tcl会安排寄机器来我司验证，机器收到后我会再打开此CQ
(20190107T01:26:14)

==== State: Opened by: cmadmin on 07 January 2019 09:11:36 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548515|[SC9863A][Waterworld][FS168-11B][TCL][XM]FS168-11B（LS036A-5024A）帮忙安排RF的OTA测试。|客户财富FS168-11B（LS036A-5024A）配置帮忙安排RF OTA测试，整机2台。
频段：GSM4+EDGE+WCDMA(B1/2/4/5/8)+LTE(B1/2/3/4/5/7/8/13/28A/28B/66)|
==== State: Closed by: waterworld on 19 January 2019 09:33:37 ====

测试完成。

==== State: Resolved by: cmadmin on 18 January 2019 18:37:16 ====

Dear Customer:
  The Issue has been Fixed now, please check it
Thank you

Analysis and Solution:
RootCause:
test
Solution:
test

==== State: Opened by: waterworld on 18 January 2019 18:14:20 ====

帮忙把这两台机子寄还我司客户，谢谢：
范力
13632553625
中国. 深圳. 南山区西丽镇创盛路1号康和盛大厦7楼
财富之舟八部

==== State: Opened by: waterworld on 18 January 2019 17:39:55 ====

好的，非常感谢支持！

==== State: Opened by: wuqiang.li on 18 January 2019 16:58:47 ====

测试数据见附件。

谢谢!

==== State: Opened by: waterworld on 15 January 2019 16:58:23 ====

李工，客户卡托测试中忘记装回去了，现在寄给你了，请注意查收：SF： 467 466 066 309。

==== State: Opened by: waterworld on 14 January 2019 14:31:20 ====

附件是2台OTA机器天线报告，顺丰快递28798550799，收到请帮忙及时安排，谢谢！

==== State: Opened by: waterworld on 11 January 2019 14:07:47 ====

尊敬的展讯，您好！
    不好意思，客户机子明天才能寄出，下周一收到机子再安排吧，谢谢支持！

==== State: Opened by: waterworld on 07 January 2019 10:39:03 ====

 == Description Changed from == 
客户财富FS168-11B（LS036A-5024A）配置帮忙安排OTA测试，整机2台。
频段：GSM4+EDGE+WCDMA(B1/2/4/5/8)+LTE(B1/2/3/4/5/7/8/13/28A/28B/66)
To
客户财富FS168-11B（LS036A-5024A）配置帮忙安排RF OTA测试，整机2台。
频段：GSM4+EDGE+WCDMA(B1/2/4/5/8)+LTE(B1/2/3/4/5/7/8/13/28A/28B/66)
 == Headline Changed from == 
[SC9863A][Waterworld][FS168-11B][TCL][XM]FS168-11B（LS036A-5024A）帮忙安排OTA测试。
To
[SC9863A][Waterworld][FS168-11B][TCL][XM]FS168-11B（LS036A-5024A）帮忙安排RF的OTA测试。
 == ModuleName Changed from == 
HW_RF-GSM/GPRS/EDGE/WCDMA/TD/LTE
To
HW_TEST-RF & WCN OTA


==== State: Opened by: cmadmin on 07 January 2019 09:11:26 ====

Dear Customer:
 The Issue is under processing now.
Thank you

|
# SPCSS00548504|[SC7731E][Waterworld][FS098M02][六部][Hisense ATT]ATT测试卡不显示voicemail|步骤：
1.存有一条voicemail的ATT测试卡插入手机后，状态栏没有提示有voicemail，
2.此ATT卡放入别手机却能正常在通知栏上面提示有voicemail。
3.换成其它比如Unefone的卡（这张卡上也存有voicemail），我司手机通知栏能正常提示示voicemail。


分析：
国内没有此类测试条件，请高手帮忙分析一下原因，附件为ylog，，谢谢|
==== State: Closed by: cmadmin on 05 February 2019 00:43:24 ====

尊敬的客户，超过15个工作日未关闭的Resolved状态的问题，我们会定期关闭，如问题仍然存在，您还可以再次通过Reopen重新打开提交此问题。


==== State: Resolved by: cmadmin on 14 January 2019 09:49:32 ====

  == songtf0703@spreadst.com On 20190114T01:48:08 (xml) ==
如Comment 14，该问题验证通过。
关闭。

Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

[1.Root Cause        ]:SIM卡设置了Pin锁，SIM 卡还没有加载完成，就查询了SIM 卡中的voicemail信息，查不到结果

[2.Resolution        ]:在SIM_RECORDS_LOADED后再进行一次查询



==== State: Opened by: waterworld on 14 January 2019 09:32:04 ====

Dear sprd:
此问题客户验证OK，感谢支持，问题关闭

==== State: Resolved by: cmadmin on 11 January 2019 18:41:53 ====

Dear Customer:
  The Issue Need you Verified with the samplecode, please check it and Reject even it's OK, No Close for the TOBEVERIFIED Issues 
Thank you

Analysis and Solution:
PleasePayAttentionTheFollowingRules: 
注意事项：
1. 此文件为展讯提供的研发调试用支持文件，可作为贵司项目研发调试的参考，建议在贵司在使用时自行开展全面测试 
2. 在贵司未测试并确认该文件质量前，请不要将此文件合入贵司项目的量产或者入库的版本
3. 以下情况需要请务必向展讯技术支持人员申请正式Patch或正式版本，不能使用此文件
  A 需要解决的问题是平台问题，且贵司项目已正式量产或者即将量产
  B 展讯工程师在回复问题解决方案时，已经注明必须要“申请正式Patch或正式版本”解决问题的
  C 贵司内部评估风险巨大，必须要“申请正式Patch或正式版本”解决问题的

[1.Root Cause        ]:SIM卡设置了Pin锁，SIM 卡还没有加载完成，就查询了SIM 卡中的voicemail信息，查不到结果

[2.Resolution        ]:在SIM_RECORDS_LOADED后再进行一次查询



==== State: Opened by: cmadmin on 11 January 2019 17:36:39 ====

  == songtf0703@spreadst.com On 20190111T09:30:41 (xml) ==
Dear Customer,
请您参考以下修改frameworks/opt/telephony/src/java/com/android/internal/telephony/ServiceStateTracker.java

--- a/src/java/com/android/internal/telephony/ServiceStateTracker.java
+++ b/src/java/com/android/internal/telephony/ServiceStateTracker.java
@@ -1236,6 +1236,8 @@ public class ServiceStateTracker extends Handler {
 
             case EVENT_SIM_RECORDS_LOADED:
                 log("EVENT_SIM_RECORDS_LOADED: what=" + msg.what);
+                log("EVENT_SIM_RECORDS_LOADED: Reset the mPreviousSubId so we treat a SIM power bounce as a first boot");
+                mOnSubscriptionsChangedListener.mPreviousSubId.set(-1);
                 updatePhoneObject();
                 updateOtaspState();
                 if (mPhone.isPhoneTypeGsm()) {

然后进行验证。
感谢！

==== State: Opened by: waterworld on 09 January 2019 13:35:22 ====

Dear sprd：
前方客户反馈如下：
1，测试的ATT卡确实设置了SIM PIN锁
2，设置了SIM PIN锁放入对比机有解锁步骤，解锁后读出voucemail的
3，对比机为一加手机


==== State: NeedInfo by: cmadmin on 08 January 2019 20:39:44 ====

  == songtf0703@spreadst.com On 20190108T12:37:48 (xml) ==
Dear Customer,
我们通过Log分析如下：
但是由于SIM卡设置了pin 锁，
log如下：>>>>>>>
R00547D 01-06 23:40:55.805   877  1035 D SubscriptionInfoUpdater: Broadcasting intent ACTION_SIM_STATE_CHANGED LOCKED reason PIN for mCardIndex: 0

这个时候SST这边已经根据subId进行了更新voicemail，查到的数据为0.因为此时SIM卡文件还没有加载。
log如下：>>>>>>
R0054C3 01-06 23:40:55.947   877   877 D GsmCdmaPhone: [GsmCdmaPhone] updateVoiceMail countVoiceMessages = 0 subId 2

从SIM卡中读取SIM卡文件发生在后面，发现该ATT卡中的确是存在voicemail 的。
log如下：>>>>
R006CC5 01-06 23:41:10.243   877   877 D SIMRecords: [SIMRecords] EF_MWIS : 0101000000
R006CC7 01-06 23:41:10.244   877   877 D SIMRecords: [SIMRecords] EF_CPHS_MWI: 5a

后续onSubscriptionInfoChanged时，由于该SubId已经更新，就不会再进行更新voicemail了。

因此，
请您帮忙确认以下几点问题：
1，测试的ATT卡是否是设置了SIM PIN锁？
2，如果此ATT卡设置了SIM PIN 锁，那么此ATT的卡放入别的手机，是否也有SIM pin解锁步骤？voucemail notification出现在SIM PIN解锁之前还是解锁之后？

请您帮忙跟测试确认以上问题并反馈给我们。感谢！
(20190107T06:01:09)

==== State: Opened by: waterworld on 07 January 2019 13:53:39 ====

Dear sprd:
附件ylog_AT&T.rar 为ATT卡后voicemail的抓取的userdebug log

==== State: Opened by: waterworld on 07 January 2019 13:39:34 ====

Dear sprd:
附件为插入Unefon后voicemail的抓取的userdebug log
ATT log 正在抓

==== State: NeedInfo by: cmadmin on 07 January 2019 13:18:25 ====

  == songtf0703@spreadst.com On 2019-01-07T03:06:13Z (json) ==
Dear Customer
如电话沟通，目前Log是User版本的Log，提供的信息有限。
烦请您使用userDebug版本抓取Log，并且同时提供ATT 和Unefone的Log以便我们对比分析。感谢！
(2019-01-07T01:58:01Z)

==== State: Opened by: cmadmin on 07 January 2019 10:07:48 ====

Dear Customer:
 The Issue is under processing now.
Thank you


==== State: Submitted by: waterworld on 06 January 2019 20:02:21 ====

 == Description Changed from == 
步骤：
存有一条voicemail的ATT测试卡插入手机后，一直不显示voicemail，
换成Unefone的卡后，能正常显示voicemail。

现象：
此ATT卡放入别手机也能正常显示。
分析：
附件为ylog，请帮忙分析一下原因，谢谢
To
步骤：
1.存有一条voicemail的ATT测试卡插入手机后，状态栏没有提示有voicemail，
2.此ATT卡放入别手机却能正常在通知栏上面提示有voicemail。
3.换成其它比如Unefone的卡（这张卡上也存有voicemail），我司手机通知栏能正常提示示voicemail。


分析：
国内没有此类测试条件，请高手帮忙分析一下原因，附件为ylog，，谢谢


==== State: Submitted by: waterworld on 05 January 2019 20:10:02 ====

Dear sprd：
紧急项目，请帮忙优先处理，谢谢

==== State: Submitted by: waterworld on 05 January 2019 20:08:13 ====

 == Headline Changed from == 
[SC7731E][Waterworld][FS098M02][六部]ATT测试卡不显示voicemail
To
[SC7731E][Waterworld][FS098M02][六部][Hisense ATT]ATT测试卡不显示voicemail


==== State: Submitted by: waterworld on 05 January 2019 14:30:55 ====

 == Description Changed from == 
步骤：
存有一条voicemail的ATT测试卡插入手机后，一直不显示voicemail，
换成Unefone的卡后，能正常显示voicemail。

现象：
此ATT卡放入别手机也能正常显示。
分析：
附件为ylog，请把分析一下原因，谢谢
To
步骤：
存有一条voicemail的ATT测试卡插入手机后，一直不显示voicemail，
换成Unefone的卡后，能正常显示voicemail。

现象：
此ATT卡放入别手机也能正常显示。
分析：
附件为ylog，请帮忙分析一下原因，谢谢

|
